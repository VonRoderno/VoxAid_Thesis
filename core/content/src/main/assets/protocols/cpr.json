{
  "id": "cpr",
  "name": "CPR (Cardiopulmonary Resuscitation)",
  "description": "Emergency procedure for cardiac arrest",
  "category": "cardiac",
  "estimated_duration_minutes": 2,
  "metronome_bpm": 110,
  "warning": "Only perform CPR if the person is unresponsive and not breathing. Call 911 immediately before starting.",
  "emergency_notes": [
    "Continue CPR until emergency services arrive",
    "Switch with another person every 2 minutes if possible",
    "Do not stop compressions for more than 10 seconds"
  ],
  "steps": [
    {
      "step_number": 1,
      "title": "Check Responsiveness",
      "description": "Tap the person's shoulders and shout 'Are you okay?'",
      "detailed_instructions": [
        "Gently shake the person's shoulders",
        "Speak loudly and clearly",
        "Look for any response or movement"
      ],
      "voice_prompt": "Check if the person responds. Tap their shoulders and ask if they're okay.",
      "animation_resource": "cpr_check_response.json",
      "duration_seconds": 5,
      "voice_commands": [
        {
          "command": "next",
          "alternatives": ["continue", "go on", "proceed"],
          "action": "next_step"
        },
        {
          "command": "repeat",
          "alternatives": ["say again", "again"],
          "action": "repeat_step"
        }
      ]
    },
    {
      "step_number": 2,
      "title": "Call 911",
      "description": "Call emergency services immediately",
      "detailed_instructions": [
        "If someone is nearby, have them call 911",
        "If alone, call 911 yourself before starting CPR",
        "Put phone on speaker if possible"
      ],
      "voice_prompt": "Call nine one one immediately. If you're alone, call before starting CPR.",
      "animation_resource": "call_911.json",
      "duration_seconds": 10,
      "critical_warning": "Do not skip this step!",
      "voice_commands": [
        {
          "command": "next",
          "alternatives": ["done", "called", "continue"],
          "action": "next_step"
        }
      ]
    },
    {
      "step_number": 3,
      "title": "Position Hands",
      "description": "Place hands on center of chest",
      "detailed_instructions": [
        "Place heel of one hand on center of chest",
        "Place other hand on top",
        "Interlock fingers",
        "Position shoulders directly above hands"
      ],
      "voice_prompt": "Place the heel of one hand on the center of the chest. Put your other hand on top and interlock your fingers.",
      "animation_resource": "cpr_hand_position.json",
      "duration_seconds": 8,
      "voice_commands": [
        {
          "command": "next",
          "alternatives": ["ready", "positioned", "continue"],
          "action": "next_step"
        },
        {
          "command": "repeat",
          "alternatives": ["show again"],
          "action": "repeat_step"
        }
      ]
    },
    {
      "step_number": 4,
      "title": "Start Compressions",
      "description": "Push hard and fast, 100-120 per minute",
      "detailed_instructions": [
        "Push straight down at least 2 inches deep",
        "Keep arms straight",
        "Use your body weight",
        "Allow chest to fully recoil between compressions",
        "Follow the metronome beat: 110 BPM"
      ],
      "voice_prompt": "Start chest compressions. Push hard and fast, at least 2 inches deep. Follow the metronome beat. Continue for 30 compressions.",
      "animation_resource": "cpr_compressions.json",
      "duration_seconds": 18,
      "critical_warning": "Compressions save lives. Don't stop!",
      "voice_commands": [
        {
          "command": "next",
          "alternatives": ["done", "finished thirty", "continue"],
          "action": "next_step"
        },
        {
          "command": "help",
          "alternatives": ["how many", "count"],
          "action": "provide_help"
        }
      ]
    },
    {
      "step_number": 5,
      "title": "Give Rescue Breaths (Optional)",
      "description": "Tilt head back, pinch nose, give 2 breaths",
      "detailed_instructions": [
        "Tilt head back to open airway",
        "Pinch nose shut",
        "Cover mouth with yours",
        "Give 2 one-second breaths",
        "Watch for chest to rise",
        "If untrained or uncomfortable, skip this and continue compressions"
      ],
      "voice_prompt": "If trained, give 2 rescue breaths. Tilt head back, pinch nose, and blow into mouth for 1 second each. If not trained, skip and continue compressions.",
      "animation_resource": "cpr_rescue_breaths.json",
      "duration_seconds": 10,
      "voice_commands": [
        {
          "command": "next",
          "alternatives": ["done", "continue", "skip"],
          "action": "next_step"
        },
        {
          "command": "skip",
          "alternatives": ["skip breaths", "no breaths"],
          "action": "next_step"
        }
      ]
    },
    {
      "step_number": 6,
      "title": "Continue CPR Cycle",
      "description": "Repeat 30 compressions, 2 breaths until help arrives",
      "detailed_instructions": [
        "Do 30 compressions",
        "Then 2 breaths (or skip if untrained)",
        "Keep repeating this cycle",
        "Don't stop until paramedics arrive",
        "Switch with another person every 2 minutes if possible"
      ],
      "voice_prompt": "Continue the CPR cycle. Thirty compressions, then two breaths. Repeat until help arrives. Do not stop.",
      "animation_resource": "cpr_cycle.json",
      "critical_warning": "Continue until paramedics arrive or person shows signs of life",
      "voice_commands": [
        {
          "command": "restart",
          "alternatives": ["start over", "again"],
          "action": "restart_protocol"
        },
        {
          "command": "help",
          "alternatives": ["what now", "confused"],
          "action": "provide_help"
        }
      ]
    }
  ]
}